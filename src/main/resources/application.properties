spring.application.name=eshopBackend

# --- OPRAVA DATABÁZE PRO RAILWAY ---
# Railway dává prom?nné PGHOST, PGPORT atd. samo.
spring.datasource.url=jdbc:postgresql://${PGHOST}:${PGPORT}/${PGDATABASE}
spring.datasource.username=${PGUSER}
spring.datasource.password=${PGPASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.profiles.active=sandbox

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

logging.level.org.hibernate.SQL=DEBUG
logging.level.com.zaxxer.hikari=DEBUG

public.endpoints=/api/auth/**,/images/**,/v3/api-docs/**,/swagger-ui/**,/actuator/health

# --- MAIL (Tyhle prom?nné musí? mít nastavené v Railway Variables!) ---
spring.mail.host=smtp.seznam.cz
spring.mail.port=465
spring.mail.username=${M_USER}
spring.mail.password=${M_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=true

payments.bank.iban=${BANK_IBAN}
payments.bank.bic=${BANK_BIC}

shipping.labels.dir=./labels

ppl.api-base=https://api-dev.dhl.com/ecs/ppl/myapi2
ppl.oauth.token-url=https://api-dev.dhl.com/ecs/ppl/myapi2/login/getAccessToken
ppl.oauth.scope=myapi2
ppl.age-check.code=A18
ppl.age-check.enabled=false

# --- PPL (Tyhle prom?nné musí? mít nastavené v Railway Variables!) ---
ppl.sender.name=${PPL_SENDER_NAME}
ppl.sender.street=${PPL_SENDER_STREET}
ppl.sender.city=${PPL_SENDER_CITY}
ppl.sender.zip-code=${PPL_SENDER_ZIP}
ppl.sender.country=${PPL_SENDER_COUNTRY}
ppl.sender.contact=${PPL_SENDER_CONTACT}
ppl.sender.phone=${PPL_SENDER_PHONE}
ppl.sender.email=${PPL_SENDER_EMAIL}
ppl.sender.depot=${PPL_SENDER_DEPOT}

adulto.api.base-url=https://sandbox.adulto.cz/api
adulto.api.timeout-ms=4000
adulto.api.debug=true
adulto.api.public-key=${A_PUBLIC_KEY}
adulto.api.private-key=${A_PRIVATE_KEY}

spring.servlet.multipart.max-file-size=25MB
spring.servlet.multipart.max-request-size=25MB
server.tomcat.max-swallow-size=-1

# --- PORT ---
# Tohle bere port od Railway, nebo 8080 jako fallback
server.port=${PORT:8080}

# --- SECURITY (Tyhle prom?nné musí? mít nastavené v Railway Variables!) ---
security.jwt.access-secret=${JWT_ACCESS_SECRET}
security.jwt.refresh-secret=${JWT_REFRESH_SECRET}
security.jwt.access-ttl-seconds=900
security.jwt.refresh-ttl-seconds=1209600